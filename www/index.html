<!DOCTYPE html>
<html>
<head>
 <script src="https://cdn.plot.ly/plotly-latest.min.js"></script></head>
<body>
<div id="churn-complexity1" style="width:1000px;height:800px;"></div>
<div id="churn-complexity2" style="width:1000px;height:800px;"></div>
<div id="churn-complexity3" style="width:1000px;height:800px;"></div>
<div id="churn-complexity4" style="width:1000px;height:800px;"></div>
<div id="churn-complexity5" style="width:1000px;height:800px;"></div>
<div id="churn-complexity6" style="width:1000px;height:800px;"></div>

<script>

function plot(div, csv, x_field, y_field, hover_label) {
  Plotly.d3.csv(csv, function(rows){
      var trace = {
        type: 'scatter',                    // set the chart type
        mode: 'markers',                      // connect points with lines
        x: rows.map(function(row){          // set the x-data
          return row[x_field];
        }),

        y: rows.map(function(row){          // set the y-data
          return row[y_field];
        }),

        line: {                             // set the width of the line.
          width: 1
        },
        text: rows.map(function(row){
          return row[hover_label];
        })
      };

      var layout = {
        title: csv,
        hovermode: 'closest',
        yaxis: {title: y_field},       // set the y axis title
        xaxis: {title: x_field},
        margin: {                           // update the left, bottom, right, top margin
          l: 100, b: 100, r: 50, t: 50
        }
      };

      Plotly.plot(document.getElementById(div), [trace], layout, {showLink: false});
  });
}

plot('churn-complexity1', 'churn_vs_complexity_backend.csv', 'times_changed', 'flog_total', 'file_path')
plot('churn-complexity2', 'churn_vs_complexity_backend.csv', 'times_changed', 'flog_method_avg', 'file_path')
plot('churn-complexity3', 'churn_vs_complexity_backend.csv', 'flog_method_avg', 'flog_total', 'file_path')
plot('churn-complexity4', 'churn_vs_complexity_controllers_helpers.csv', 'times_changed', 'flog_total', 'file_path')
plot('churn-complexity5', 'churn_vs_complexity_controllers_helpers.csv', 'times_changed', 'flog_method_avg', 'file_path')
plot('churn-complexity6', 'churn_vs_complexity_controllers_helpers.csv', 'flog_method_avg', 'flog_total', 'file_path')


</script>
</body>
</html>
